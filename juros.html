<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Configurar Juros</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <nav class="navbar">
    <div class="logo">üèä Piscinas</div>
    <button class="menu-toggle" id="menuToggle">‚ò∞</button>
    <ul class="nav-links" id="navLinks">
      <li><a href="index.html">Gerar Or√ßamento</a></li>
      <li><a href="cadastrar.html">Cadastrar Modelos</a></li>
      <li><a href="juros.html">Configurar Juros</a></li>
    </ul>
  </nav>

  <div class="orcamento-container">
    <h2>Taxas de Juros</h2>
    <form id="jurosForm">
      <label for="debito">D√©bito (%):</label>
      <input type="number" id="debito" step="0.01" min="0" />
    </form>

    <h3>Cr√©dito Parcelado</h3>
    <form id="parcelasForm"></form>
    <button onclick="salvarJuros()">Salvar Taxas</button>
  </div>

  <script>
    document.getElementById('menuToggle')?.addEventListener('click', () => {
      document.getElementById('navLinks')?.classList.toggle('active');
    });

    const parcelasForm = document.getElementById('parcelasForm');
    for (let i = 1; i <= 12; i++) {
      const label = document.createElement('label');
      label.innerText = `${i}x (%):`;
      const input = document.createElement('input');
      input.type = 'number';
      input.min = 0;
      input.step = '0.01';
      input.id = `parcela_${i}`;
      parcelasForm.appendChild(label);
      parcelasForm.appendChild(input);
    }

    function salvarJuros() {
      const taxas = {
        debito: parseFloat(document.getElementById("debito").value) || 0
      };
      for (let i = 1; i <= 12; i++) {
        const valor = parseFloat(document.getElementById(`parcela_${i}`).value) || 0;
        taxas[i] = valor;
      }
      localStorage.setItem('taxasJurosParcelas', JSON.stringify(taxas));
      alert('Taxas salvas com sucesso!');
    }

    window.onload = () => {
      const taxas = JSON.parse(localStorage.getItem('taxasJurosParcelas') || '{}');
      if (taxas.debito !== undefined) {
        document.getElementById("debito").value = taxas.debito;
      }
      for (let i = 1; i <= 12; i++) {
        if (taxas[i] !== undefined) {
          document.getElementById(`parcela_${i}`).value = taxas[i];
        }
      }
    };
  </script>
</body>
</html>
